<div class="toolbar">
  <span class="token" [class.warn]="authState && authState.expiresInSec < 300">
    Token:
    <ng-container *ngIf="authState?.ready; else disc">
      Connected â€” expires in {{ (authState?.expiresInSec || 0) * 1000 | date:'HH:mm:ss':'UTC' }}
    </ng-container>
    <ng-template #disc>Disconnected</ng-template>
  </span>
  <span class="sse-dot" [class.connected]="(md.connection$ | async)"></span>
  <select multiple [(ngModel)]="selected" (change)="onSelectionChange()" [ngModelOptions]="{standalone: true}">
    <option *ngFor="let i of instruments" [ngValue]="i">{{ i }}</option>
  </select>
</div>

<div class="charts">
  <app-candlestick-chart *ngFor="let k of selected" [instrumentKey]="k"></app-candlestick-chart>
</div>
